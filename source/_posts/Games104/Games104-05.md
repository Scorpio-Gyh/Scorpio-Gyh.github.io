---
title: Games104-5 渲染实践
date: 2024-05-06 15:46:01
categories:
- Games 104
tags:
- 游戏引擎
---
# renderable可渲染对象

## 渲染方程

![0](BRDF.png)

**双向反射分布函数（BRDF）**

$$
L_o(x, \omega_o) = L_e(x, \omega_o) + \int_{\mathbb{H}^2} f_r(x, \omega_o, \omega_i)L_i(x, \omega_i)\cos\theta_id\omega_i
$$

## 三个挑战

* 第一个挑战是如何获取任何给定入射方向的入射辐射。这涉及到如何准确计算来自场景中每一个方向光的亮度。
* 第二个挑战是照明和散射函数在半球上的积分计算成本很高。由于需要对所有可能的入射方向进行积分，这个计算是非常复杂和耗时的。
* 第三个挑战是为了评估入射辐射，我们必须计算另一个积分，也就是说渲染方程是递归的。这意味着为了计算一个方向上的光亮度，我们可能需要计算由这个光再次反射到其他物体上的光亮度，这样就形成了一个复杂的递归过程。

## Blinn-Phong模型

![1](blinn-phong.png)

$$
光强 = 环境光(Ambient)+漫反射光(Diffuse)+高光(Specular)
$$

## 阴影

![2](shadow.png)

阴影映射，光源位置进行MVP变换进行生成Shadow Map


# 纹理压缩

ASTC压缩算法，基本思想
![4](4.png)
核心思想：在一个瓦片块中，寻找最亮、暗的栅格值，其他值作为这两个值的插值
jpeg等压缩算法占开销，不支持随机访问

# 建模工具

三维建模：Maya、Blender、3dMax等
雕刻：Sculpting
扫描：Scanning
自动建模：Houdini、Unreal Engine
人工智能等
![5](5.png)

# 网格管线

Cluster Based Mesh Pipline
![6](6.png)
将整体网格体划分为多个cluster，并可在显卡上无限细分，例如虚幻引擎的nanite

# 学习图形渲染的核心
* 了解显卡架构
* mesh submesh
* culling算法
* 利用GPU加速